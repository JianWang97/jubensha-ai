.pv# 🎭 AI剧本杀游戏 (JubenSha)

一个基于AI的剧本杀游戏系统，所有角色均由AI扮演。项目包含前端和后端两个部分，采用现代化技术栈构建。

## 🌟 项目特色

- 🤖 **全AI角色扮演** - 所有角色均由AI驱动，具有独特背景和秘密
- 🎯 **完整游戏流程** - 包含背景介绍、自我介绍、搜证、调查、讨论、投票、揭晓真相等完整阶段
- 🌐 **实时同步体验** - 使用WebSocket实现实时游戏状态同步
- 💻 **现代化界面** - 响应式Web界面，支持移动端访问
- 🧠 **智能推理引擎** - 基于大语言模型的AI推理能力
- 🔊 **TTS语音播报** - 支持文本转语音，增强沉浸式体验

## 📁 项目结构

```
jubensha/
├── backend/     # 后端服务
│   ├── src/     # 核心源码
│   ├── docs/    # 文档资料
│   └── tests/   # 测试代码
└── frontend/    # 前端界面
    ├── src/     # 前端源码
    └── public/  # 静态资源
```

## 🚀 快速开始

### 后端服务

#### 环境要求
- Python 3.13+
- uv (Python包管理器)
- OpenAI API Key 或兼容API

#### 安装与运行

1. **进入后端目录**
   ```bash
   cd backend
   ```

2. **安装依赖**
   ```bash
   uv sync
   ```

3. **配置环境变量**
   
   复制并编辑 `.env` 文件：
   ```bash
   cp .env.example .env
   # 编辑 .env 文件设置你的API密钥和其他配置
   ```

4. **运行后端服务**
   ```bash
   uv run python main.py
   ```

### 前端界面

#### 环境要求
- Node.js 18+
- npm 或 yarn

#### 安装与运行

1. **进入前端目录**
   ```bash
   cd frontend
   ```

2. **安装依赖**
   ```bash
   npm install

   ```

3. **运行前端开发服务器**
   ```bash
   npm run dev
   ```

4. **构建生产版本**
   ```bash
   npm run build
   npm run start
   ```

## 🎮 游戏流程

1. **背景介绍阶段** - 系统叙述案件背景故事
2. **自我介绍阶段** - AI角色依次介绍自己的身份背景
3. **搜证阶段** - AI角色搜查场景发现证据
4. **调查取证阶段** - AI角色互相提问推进调查
5. **自由讨论阶段** - AI角色分享推理和反驳观点
6. **投票表决阶段** - AI角色投票指认凶手
7. **真相揭晓阶段** - 公布案件真相和游戏结果

## 🛠 技术架构

### 后端技术栈
- **FastAPI** - 现代、快速(高性能)的Web框架
- **LangChain** - 构建AI应用的框架
- **OpenAI/兼容模型** - 大语言模型支持
- **PostgreSQL** - 关系型数据库
- **WebSocket** - 实时双向通信
- **MinIO** - 对象存储服务

### 前端技术栈
- **Next.js 15** - React框架
- **React 19** - 前端UI库
- **TypeScript** - JavaScript超集
- **Tailwind CSS** - CSS框架
- **Zustand** - 状态管理
- **Radix UI** - 无样式组件库


## 📝 开发计划

根据产品需求文档，未来的优化方向包括：

1. **游戏体验优化**
   - 动态阶段时长调整
   - AI行为丰富化
   - 证据发现机制增强

2. **用户参与度提升**
   - 观众投票功能
   - 暂停讨论功能
   - 角色视角切换

3. **内容丰富度提升**
   - 多类型剧本支持
   - 角色个性化增强
   - 剧本难度分级

4. **系统功能完善**
   - 游戏回放系统
   - 社交功能增强
   - 数据分析功能

## 📄 许可证

本项目仅供学习和研究使用。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进项目。